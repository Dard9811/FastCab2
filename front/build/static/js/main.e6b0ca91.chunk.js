(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/user.b171ffca.svg"},29:function(e,t,a){e.exports=a.p+"static/media/user.31aa4220.svg"},30:function(e,t,a){e.exports=a.p+"static/media/whatsapp.3a8a5d44.svg"},34:function(e,t,a){e.exports=a(68)},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),i=(a(39),a(31)),s=(a(40),a(22)),l=a.n(s);var u=function(e){return o.a.createElement("div",{className:"navBar"},o.a.createElement("a",{href:"miPerfil"},o.a.createElement("img",{className:"iconoUser",src:l.a,alt:"user icon"})))},m=(a(41),a(5));var p=Object(m.f)((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u,null),o.a.createElement("div",{className:"container"},e.viajes.map((function(t){return o.a.createElement("div",{className:"card shadow",key:t._id},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"card-title"},t.direccion),o.a.createElement("button",{className:"botonAmarillo",onClick:function(){return function(t){fetch("taxistas/accept",{method:"POST",body:JSON.stringify({viaje:t,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Exito",e)})).catch((function(e){return console.log("Error:",e)})),e.history.push({pathname:"/servicio",viaje:t})}(t)}},"Aceptar")))}))))})),d=a(25),f=a(26),h=a(32),g=a(27),v=a(33),E=a(28),y=a.n(E),b=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"renderMarkers",value:function(e,t){var a=new t.Geocoder,n=this.props.lat,o=this.props.lon;a.geocode({address:"Cra. 11b #119-36, Bogot\xe1"},(function(a,r){"OK"===r&&(n=a[0].geometry.location.lat(),o=a[0].geometry.location.lng()),new t.Marker({position:{lat:n,lng:o},map:e,title:"Hello World!"}),e.panTo({lat:n,lng:o})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"50vh",width:"100%"}},o.a.createElement(y.a,{bootstrapURLKeys:{key:"AIzaSyBQGovuMsVwP-HAiTWrNAVND5JfnikoPZ8"},defaultCenter:{lat:this.props.lat,lng:this.props.lon},defaultZoom:17,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.renderMarkers(a,n)},yesIWantToUseGoogleMapApiInternals:!0}))}}]),t}(n.Component),N=(a(66),a(29)),O=a.n(N),j=a(30),k=a.n(j);var S=function(e){var t=e.location.viaje||{direccion:"Universidad de los Andes",estado:"en curso",usuario:"Mateo Devia",numero:"whatsapp:+573132803320"};return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("img",{className:"fotoUsuario",src:O.a,alt:"user icon"}),o.a.createElement("h1",{className:"nombreUsuario"},t.usuario)),o.a.createElement("h2",null,t.direccion),o.a.createElement(b,{lat:5.6984895,lon:-74.03693240000001}),o.a.createElement("a",{href:"https://wa.me/"+t.numero.split("whatsapp:+")[1]},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"circuloverde"},o.a.createElement("img",{className:"iconoWhatsapp",src:k.a,alt:"user icon"})),o.a.createElement("h4",{className:"textoBoton"},"Enviar mensaje a Whatsapp"))),"confirmado"===t.estado&&o.a.createElement("button",{className:"botonAmarillo margen",onClick:function(){return function(e){fetch("taxistas/llegue",{method:"POST",body:JSON.stringify({viaje:e,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Exito",e)})).catch((function(e){return console.log("Error:",e)})),e.estado="esperando"}(t)}},"Ya llegu\xe9"),"esperando"===t.estado&&o.a.createElement("button",{className:"botonAmarillo margen",onClick:function(){return function(e){fetch("taxistas/recoger",{method:"POST",body:JSON.stringify({viaje:e,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Exito",e)})).catch((function(e){return console.log("Error:",e)})),e.estado="en curso"}(t)}},"Ya recog\xed al usuario"),"en curso"===t.estado&&o.a.createElement("button",{className:"botonAmarillo margen",onClick:function(){return function(t){fetch("taxistas/terminar",{method:"POST",body:JSON.stringify({viaje:t,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Exito",e)})).catch((function(e){return console.log("Error:",e)})),t.estado="en curso",e.history.goBack()}(t)}},"Terminar Recorrido"),o.a.createElement("button",{className:"botonGris margen",onClick:function(){return function(t){fetch("taxistas/cancelar",{method:"POST",body:JSON.stringify({viaje:t,conductor:JSON.stringify({nombre:"Francisco Devia",cedula:"19431215",placa:"RGU-429",carro:"Chevrolet Spark"})}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log("Exito",e)})).catch((function(e){return console.log("Error:",e)})),t.estado="en curso",e.history.goBack()}(t)}},"Cancelar Viaje"))},w=(a(67),a(10));var C=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=new WebSocket("wss://taxis-whatsapp.herokuapp.com");e.onopen=function(){console.log("open my ws"),e.onmessage=function(e){r(JSON.parse(e.data))}},fetch("data").then((function(e){return e.json()})).then((function(e){e.err?console.log(JSON.stringify(e.err)):r(e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,null,o.a.createElement(m.c,null,o.a.createElement(m.a,{exact:!0,path:"/",component:function(){return o.a.createElement(p,{viajes:a})}}),o.a.createElement(m.a,{path:"/servicio",component:function(e){return o.a.createElement(S,{history:e.history,location:e.location})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.e6b0ca91.chunk.js.map